# TÃ­nh NÄƒng Lá»‹ch Ã‚m Viá»‡t Nam ğŸŒ™

Há»‡ thá»‘ng chá»n ngÃ y theo lá»‹ch Ã¢m Viá»‡t Nam Ä‘Æ°á»£c tÃ­ch há»£p vÃ o á»©ng dá»¥ng, giÃºp ngÆ°á»i dÃ¹ng dá»… dÃ ng Ä‘áº·t lá»‹ch cho cÃ¡c dá»‹p lá»…, táº¿t vÃ  sinh nháº­t theo Ã¢m lá»‹ch.

## âœ¨ TÃ­nh NÄƒng

### 1. Chuyá»ƒn Äá»•i Lá»‹ch Ã‚m - DÆ°Æ¡ng Lá»‹ch
- Chuyá»ƒn tá»« dÆ°Æ¡ng lá»‹ch sang Ã¢m lá»‹ch chÃ­nh xÃ¡c
- Chuyá»ƒn tá»« Ã¢m lá»‹ch sang dÆ°Æ¡ng lá»‹ch
- Há»— trá»£ thÃ¡ng nhuáº­n (thÃ¡ng 13 trong nÄƒm nhuáº­n)
- TÃ­nh toÃ¡n chÃ­nh xÃ¡c theo thiÃªn vÄƒn há»c

### 2. Component Chá»n NgÃ y Ã‚m Lá»‹ch
- Giao diá»‡n Ä‘áº¹p, dá»… sá»­ dá»¥ng
- Chá»n ngÃ y, thÃ¡ng, nÄƒm Ã¢m lá»‹ch
- Xem trÆ°á»›c ngÃ y dÆ°Æ¡ng lá»‹ch tÆ°Æ¡ng á»©ng
- Hiá»ƒn thá»‹ cÃ¡c ngÃ y lá»… Ã¢m lá»‹ch phá»• biáº¿n
- Há»— trá»£ thÃ¡ng nhuáº­n

### 3. CÃ¡c NgÃ y Lá»… Ã‚m Lá»‹ch
Há»‡ thá»‘ng tá»± Ä‘á»™ng nháº­n diá»‡n vÃ  hiá»ƒn thá»‹ cÃ¡c ngÃ y lá»…:
- **1/1** - Táº¿t NguyÃªn ÄÃ¡n
- **15/1** - Táº¿t NguyÃªn TiÃªu (Ráº±m thÃ¡ng GiÃªng)
- **10/3** - Giá»— Tá»• HÃ¹ng VÆ°Æ¡ng
- **15/4** - Pháº­t Äáº£n (Ráº±m thÃ¡ng TÆ°)
- **5/5** - Táº¿t Äoan Ngá»
- **15/7** - Vu Lan (Ráº±m thÃ¡ng Báº£y)
- **15/8** - Táº¿t Trung Thu
- **23/12** - Ã”ng TÃ¡o cháº§u trá»i

## ğŸš€ CÃ¡ch Sá»­ Dá»¥ng

### Trong MÃ n HÃ¬nh Táº¡o Lá»‹ch TrÃ¬nh

1. Má»Ÿ mÃ n hÃ¬nh **"ThÃªm lá»‹ch trÃ¬nh"**
2. TÃ¬m pháº§n **"NgÃ y"**
3. Nháº¥n vÃ o nÃºt **máº·t trÄƒng** ğŸŒ™ (bÃªn cáº¡nh nÃºt chá»n ngÃ y thÆ°á»ng)
4. Chá»n ngÃ y, thÃ¡ng, nÄƒm Ã¢m lá»‹ch
5. Náº¿u lÃ  thÃ¡ng nhuáº­n, tÃ­ch vÃ o Ã´ **"ThÃ¡ng nhuáº­n"**
6. Xem ngÃ y dÆ°Æ¡ng lá»‹ch tÆ°Æ¡ng á»©ng á»Ÿ pháº§n **Preview**
7. Nháº¥n **"XÃ¡c nháº­n"**

### VÃ­ Dá»¥ Sá»­ Dá»¥ng

#### Äáº·t Lá»‹ch Cho Táº¿t NguyÃªn ÄÃ¡n
1. Má»Ÿ lunar date picker
2. Chá»n: NgÃ y **1**, ThÃ¡ng **1**, NÄƒm hiá»‡n táº¡i
3. Há»‡ thá»‘ng sáº½ hiá»ƒn thá»‹: "Táº¿t NguyÃªn ÄÃ¡n" â­
4. Nháº¥n xÃ¡c nháº­n â†’ NgÃ y dÆ°Æ¡ng lá»‹ch tÆ°Æ¡ng á»©ng sáº½ Ä‘Æ°á»£c chá»n

#### Äáº·t Lá»‹ch Cho Sinh Nháº­t Ã‚m Lá»‹ch
1. Má»Ÿ lunar date picker
2. Chá»n ngÃ y sinh Ã¢m lá»‹ch (VD: 15/8)
3. Chá»n nÄƒm hiá»‡n táº¡i hoáº·c nÄƒm tá»›i
4. Nháº¥n xÃ¡c nháº­n

#### Äáº·t Lá»‹ch Cho ThÃ¡ng Nhuáº­n
1. Má»Ÿ lunar date picker
2. Chá»n ngÃ y vÃ  thÃ¡ng
3. TÃ­ch vÃ o Ã´ **"ThÃ¡ng nhuáº­n"** âœ“
4. Nháº¥n xÃ¡c nháº­n

## ğŸ“ Cáº¥u TrÃºc Code

### 1. `utils/lunarCalendar.ts`
ThÆ° viá»‡n chuyá»ƒn Ä‘á»•i lá»‹ch Ã¢m - dÆ°Æ¡ng lá»‹ch

**CÃ¡c hÃ m chÃ­nh:**
- `solarToLunar(dd, mm, yyyy)`: Chuyá»ƒn dÆ°Æ¡ng lá»‹ch â†’ Ã¢m lá»‹ch
- `lunarToSolar(day, month, year, isLeapMonth)`: Chuyá»ƒn Ã¢m lá»‹ch â†’ dÆ°Æ¡ng lá»‹ch
- `formatLunarDate(lunarDate)`: Äá»‹nh dáº¡ng hiá»ƒn thá»‹ ngÃ y Ã¢m lá»‹ch
- `getLunarMonthName(month, isLeapMonth)`: Láº¥y tÃªn thÃ¡ng Ã¢m lá»‹ch
- `isLunarHoliday(day, month)`: Kiá»ƒm tra ngÃ y lá»…
- `getLunarHolidays()`: Danh sÃ¡ch cÃ¡c ngÃ y lá»…

### 2. `components/ui/lunar-date-picker.tsx`
Component UI chá»n ngÃ y Ã¢m lá»‹ch

**Props:**
- `visible: boolean` - Hiá»ƒn thá»‹/áº©n picker
- `onClose: () => void` - Callback khi Ä‘Ã³ng
- `onSelect: (date: Date, lunarDate: LunarDate) => void` - Callback khi chá»n ngÃ y
- `initialDate?: Date` - NgÃ y khá»Ÿi táº¡o

**Features:**
- 3 scrollable pickers: NgÃ y, ThÃ¡ng, NÄƒm
- Preview ngÃ y dÆ°Æ¡ng lá»‹ch real-time
- Hiá»ƒn thá»‹ ngÃ y lá»… tá»± Ä‘á»™ng
- Toggle thÃ¡ng nhuáº­n
- Animation mÆ°á»£t mÃ 

### 3. Integration trong `app/task/create.tsx`
- NÃºt chá»n lá»‹ch Ã¢m (icon máº·t trÄƒng)
- Badge hiá»ƒn thá»‹ ngÃ y Ã¢m lá»‹ch Ä‘Ã£ chá»n
- Tá»± Ä‘á»™ng cáº­p nháº­t startTime vÃ  endTime

## ğŸ¨ Design & UX

### MÃ u Sáº¯c
- **Primary**: `#F59E0B` (VÃ ng cam) - Biá»ƒu tÆ°á»£ng máº·t trÄƒng, ngÃ y lá»…
- **Background**: `#FEF3C7` - Ná»n badge vÃ  buttons
- **Text**: `#92400E` - Text trÃªn ná»n vÃ ng

### Icons
- ğŸŒ™ `moon` - Icon chÃ­nh cho lá»‹ch Ã¢m
- â­ `star` - ÄÃ¡nh dáº¥u ngÃ y lá»…
- âœ“ `checkbox` - ThÃ¡ng nhuáº­n
- â¡ï¸ `arrow-forward` - Chuyá»ƒn Ä‘á»•i Ã¢m â†’ dÆ°Æ¡ng

### Animation
- Modal slide tá»« dÆ°á»›i lÃªn
- Smooth picker scrolling
- Badge hiá»ƒn thá»‹ mÆ°á»£t mÃ 

## ğŸ”§ Ká»¹ Thuáº­t

### Thuáº­t ToÃ¡n Chuyá»ƒn Äá»•i
Sá»­ dá»¥ng thuáº­t toÃ¡n thiÃªn vÄƒn há»c chÃ­nh xÃ¡c:
- TÃ­nh sá»‘ ngÃ y Julius (Julian Day Number)
- TÃ­nh gÃ³c máº·t trá»i (Sun Longitude)
- XÃ¡c Ä‘á»‹nh thÃ¡ng Ã¢m lá»‹ch dá»±a trÃªn sÃ³c (new moon)
- TÃ­nh thÃ¡ng nhuáº­n dá»±a trÃªn chu ká»³ 19 nÄƒm

### Äá»™ ChÃ­nh XÃ¡c
- Há»— trá»£ nÄƒm: 1900 - 2100
- MÃºi giá»: GMT+7 (Viá»‡t Nam)
- Sai sá»‘: < 1 ngÃ y (do thiÃªn vÄƒn há»c)

## ğŸ“± TÆ°Æ¡ng ThÃ­ch

### Platforms
- âœ… iOS
- âœ… Android
- âœ… Web (Expo)

### React Native Version
- Expo SDK 49+
- React Native 0.72+

## ğŸ¯ Use Cases

### 1. NgÆ°á»i DÃ¹ng CÃ¡ NhÃ¢n
- Äáº·t lá»‹ch sinh nháº­t Ã¢m lá»‹ch cá»§a báº£n thÃ¢n vÃ  ngÆ°á»i thÃ¢n
- Nháº¯c nhá»Ÿ cÃ¡c ngÃ y lá»… truyá»n thá»‘ng
- LÃªn káº¿ hoáº¡ch cho Táº¿t, Trung Thu, Vu Lan...

### 2. Doanh Nghiá»‡p
- LÃªn lá»‹ch nghá»‰ lá»… theo Ã¢m lá»‹ch
- Tá»• chá»©c sá»± kiá»‡n theo ngÃ y Ä‘áº¹p
- Marketing theo cÃ¡c dá»‹p lá»… truyá»n thá»‘ng

### 3. Gia ÄÃ¬nh
- Nháº¯c nhá»Ÿ giá»— cháº¡p
- Tá»• chá»©c sinh nháº­t theo Ã¢m lá»‹ch
- CÃ¡c ngÃ y cÃºng, lá»… gia Ä‘Ã¬nh

## ğŸ› Known Issues & Limitations

1. **ThÃ¡ng Nhuáº­n**: 
   - Cáº§n ngÆ°á»i dÃ¹ng tá»± xÃ¡c Ä‘á»‹nh thÃ¡ng nhuáº­n
   - KhÃ´ng tá»± Ä‘á»™ng detect (do phá»¥ thuá»™c thiÃªn vÄƒn)

2. **Äá»™ ChÃ­nh XÃ¡c**:
   - CÃ³ thá»ƒ sai 1 ngÃ y á»Ÿ biÃªn giá»›i mÃºi giá»
   - NÃªn double-check vá»›i lá»‹ch váº¡n niÃªn

3. **Performance**:
   - TÃ­nh toÃ¡n cÃ³ thá»ƒ máº¥t vÃ i ms vá»›i nÄƒm xa
   - ÄÃ£ optimize cho nÄƒm gáº§n (1900-2100)

## ğŸš§ Future Enhancements

- [ ] Tá»± Ä‘á»™ng detect thÃ¡ng nhuáº­n
- [ ] ThÃªm cÃ¡c ngÃ y hoÃ ng Ä‘áº¡o, háº¯c Ä‘áº¡o
- [ ] TÃ­ch há»£p can chi (thiÃªn can, Ä‘á»‹a chi)
- [ ] ThÃªm cÃ¡c ngÃ y lá»… Ä‘á»‹a phÆ°Æ¡ng
- [ ] Widget hiá»ƒn thá»‹ lá»‹ch Ã¢m hÃ ng ngÃ y
- [ ] Sync vá»›i lá»‹ch há»‡ thá»‘ng
- [ ] Export/Import events theo lá»‹ch Ã¢m

## ğŸ“š TÃ i Liá»‡u Tham Kháº£o

- Thuáº­t toÃ¡n chuyá»ƒn Ä‘á»•i lá»‹ch Ã¢m dá»±a trÃªn cÃ´ng thá»©c cá»§a Há»“ Ngá»c Äá»©c
- [Vietnamese Lunar Calendar Algorithm](https://www.informatik.uni-leipzig.de/~duc/amlich/)
- Astronomical Algorithms by Jean Meeus

## ğŸ¤ Contributing

Náº¿u báº¡n muá»‘n cáº£i thiá»‡n tÃ­nh nÄƒng lá»‹ch Ã¢m:
1. ThÃªm cÃ¡c ngÃ y lá»… má»›i
2. Tá»‘i Æ°u thuáº­t toÃ¡n
3. Cáº£i thiá»‡n UI/UX
4. BÃ¡o cÃ¡o bugs

## ğŸ“„ License

Thuáº­t toÃ¡n lá»‹ch Ã¢m: Public Domain (Há»“ Ngá»c Äá»©c)
UI Components: MIT License

---

**ÄÆ°á»£c phÃ¡t triá»ƒn vá»›i â¤ï¸ cho cá»™ng Ä‘á»“ng ngÆ°á»i Viá»‡t**

